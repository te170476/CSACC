<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css.css">
    <link rel="stylesheet" href="slideshow-system.css">
    <link rel="stylesheet" href="slideshow-style.css">
</head>
<body class="centering">
<!-- <input type="checkbox" name="list" checked="checked"> -->
<section class="slideshow">
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512">
        <defs>
            <style>
                text {font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:122.96692657px;line-height:1.25;font-family:'Comic Sans MS';-inkscape-font-specification:'Comic Sans MS, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:#e4e4e4;stroke-width:20.49448967;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:stroke fill markers}
                tspan {fill:#000000;fill-opacity:1;stroke:#e4e4e4;stroke-width:16;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:stroke fill markers}
            </style>
            <symbol id="package" viewBox="0 0 512 512" >
                <path d="M491.729,112.971L259.261,0.745c-2.061-0.994-4.461-0.994-6.521,0L20.271,112.971c-2.592,1.251-4.239,3.876-4.239,6.754    v272.549c0,2.878,1.647,5.503,4.239,6.754l232.468,112.226c1.03,0.497,2.146,0.746,3.261,0.746s2.23-0.249,3.261-0.746    l232.468-112.226c2.592-1.251,4.239-3.876,4.239-6.754V119.726C495.968,116.846,494.32,114.223,491.729,112.971z M256,15.828    l215.217,103.897l-62.387,30.118c-0.395-0.301-0.812-0.579-1.27-0.8L193.805,45.853L256,15.828z M176.867,54.333l214.904,103.746    l-44.015,21.249L132.941,75.624L176.867,54.333z M396.799,172.307v78.546l-41.113,19.848v-78.546L396.799,172.307z     M480.968,387.568L263.5,492.55V236.658l51.873-25.042c3.73-1.801,5.294-6.284,3.493-10.015    c-1.801-3.729-6.284-5.295-10.015-3.493L256,223.623l-20.796-10.04c-3.731-1.803-8.214-0.237-10.015,3.493    c-1.801,3.73-0.237,8.214,3.493,10.015l19.818,9.567V492.55L31.032,387.566V131.674l165.6,79.945    c1.051,0.508,2.162,0.748,3.255,0.748c2.788,0,5.466-1.562,6.759-4.241c1.801-3.73,0.237-8.214-3.493-10.015l-162.37-78.386    l74.505-35.968L340.582,192.52c0.033,0.046,0.07,0.087,0.104,0.132v89.999c0,2.581,1.327,4.98,3.513,6.353    c1.214,0.762,2.599,1.147,3.988,1.147c1.112,0,2.227-0.247,3.26-0.746l56.113-27.089c2.592-1.251,4.239-3.875,4.239-6.754v-90.495    l69.169-33.392V387.568z" />
            </symbol>
            <symbol id="inputPackage" viewBox="0 0 512 512" >
                <use xlink:href="#package"/>
                <text x="20" y="120"><tspan>input</tspan></text>
            </symbol>
            <symbol id="entityPackage" viewBox="0 0 512 512" >
                <use xlink:href="#package"/>
                <text x="20" y="120"><tspan>entity</tspan></text>
            </symbol>
            <symbol id="gatewayPackage" viewBox="0 0 512 512" >
                <use xlink:href="#package"/>
                <text x="20" y="120"><tspan>gateway</tspan></text>
            </symbol>
        </defs>
    </svg>
    <p class="page_counter">/</p>
    <section class="cover center">
        <h1>ぷれぜぬぬぬぬぬぬぬぬぬ</h1>
        <p>170476</p>
    </section>
    <section class="center">
        <h1 class="top left">自己</h1>
        <img style="float: left;width: 15%; border-radius: 50%; margin-right: .45em;" src="newnew.jpg" alt="">
        <p>
            <strong>ねうねう</strong>
            <a style="font-size: .65em;" href="https://twitter.com/y_miyak_public">@y_miyak_public</a>
        </p>
        <p>専ら "うすい" と呼ばれている。</p>
    </section>
    <section>
        <h1>目次</h1>
        <ul>
            <li>制作しようとしたシステム</li>
            <li>問題点と対策</li>
            <li>制作時に直面した課題</li>
        </ul>
    </section>
    <section class="center">
        <h1>制作しようとしたシステム</h1>
    </section>
    <section>
        <header><p>制作しようとしたシステム</p></header>
        <h1>GUI</h1>
        <p>フォームから入力してデータを追加</p>
        <p><img src="GUI.png" alt="ここに入力フォームの画像"></p>
    </section>
    <section>
        <header><p>制作しようとしたシステム</p></header>
        <h1>CUI</h1>
        <p>コマンドプロンプトからcsvのパスを渡して実行</p>
    </section>
    <section>
        <header><p>制作しようとしたシステム</p></header>
        <h1>制作したシステム</h1>
        <p><img src="Form1.png" style="width: 65%;" alt="そーすこーど"></p>
    </section>
    <section>
        <header><p>制作しようとしたシステム</p></header>
        <h1>データベース</h1>
        <p><img src="DB.png" alt="データベース"></p>
    </section>
    <section class="center">
        <h1>問題点と対策</h1>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>扱いにくい2つの単位</h1>
        <ul>
            <li>半日 - [午前/午後]</li>
            <li>一日</li>
        </ul>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>扱いにくい2つの単位</h1>
        <ul>
            <li>半日 - [午前/午後]</li>
            <li>一日</li>
        </ul>
        <section>
            <h1>めんどくさいポイント</h1>
            <p>データベース内でのデータの対応関係</p>
            <div class="row" style="margin-top: .5em;">
                <table>
                    <tr><td>aaaa/aa/aa</td><td>午前</td></tr>
                    <tr><td>bbbb/bb/bb</td><td>午前</td></tr>
                </table>
                <p style="margin-left: .85em;margin-right: .85em;">-></p>
                <table>
                    <tr><td>cccc/cc/cc</td><td>一日</td></tr>
                </table>
            </div>
        </section>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>扱いにくい2つの単位</h1>
        <ul>
            <li>半日 - [午前/午後]</li>
            <li>一日</li>
        </ul>
        <section>
            <h1>対策</h1>
            <p>半日単位で揃える</p>
            <div class="row" style="margin-top: .5em;">
                <table>
                    <tr><td>cccc/cc/cc</td><td>一日</td></tr>
                </table>
                <p style="margin-left: .85em;margin-right: .85em;">-></p>
                <table>
                    <tr><td>cccc/cc/cc</td><td>午前</td></tr>
                    <tr><td>cccc/cc/cc</td><td>午後</td></tr>
                </table>
            </div>
            <div class="row" style="margin-top: .5em;">
                <table>
                    <tr><td>aaaa/aa/aa</td><td>午前</td></tr>
                    <tr><td>bbbb/bb/bb</td><td>午前</td></tr>
                </table>
                <p style="margin-left: .85em;margin-right: .85em;">-></p>
                <table>
                    <tr><td>cccc/cc/cc</td><td>午前</td></tr>
                    <tr><td>cccc/cc/cc</td><td>午後</td></tr>
                </table>
            </div>
        </section>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>csvの内部構造</h1>
        <section>
            <h1>複雑化した項目</h1>
            <table style="font-size: 80%;">
                <tr><th>休出日1</th><th>時</th><th class="mark">休出日2</th><th class="mark">時</th><th>振休日1</th><th>時</th><th class="mark">振休日2</th><th class="mark">時</th></tr>
                <tr><td>aaaa/aa/aa</td><td>午前</td><td>bbbb/bb/bb</td><td>午後</td><td>cccc/cc/cc</td><td>一日</td><td></td><td></td></tr>
            </table>
        </section>
        <hr style="margin: 1em;">
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>csvの内部構造</h1>
        <section>
            <h1>複雑化した項目</h1>
            <table style="font-size: 80%;">
                <tr><th>休出日1</th><th>時</th><th class="mark">休出日2</th><th class="mark">時</th><th>振休日1</th><th>時</th><th class="mark">振休日2</th><th class="mark">時</th></tr>
                <tr><td>aaaa/aa/aa</td><td>午前</td><td>bbbb/bb/bb</td><td>午後</td><td>cccc/cc/cc</td><td>一日</td><td></td><td></td></tr>
            </table>
        </section>
        <hr style="margin: 1em;">
        <section>
            <h1>申請区分が含まれる</h1>
            <table>
                <tr><th>...</th><th>回答日時</th><th>氏名</th><th class="mark">申請区分</th><th>休日出勤日１</th><th>...</th></tr>
                <tr><td></td><td>xxxx/xx/xx</td><td>星</td><td>取消</td><td>aaaa/aa/aa</td><td></td></tr>
            </table>
        </section>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>csvの内部構造</h1>
        <section style="position: relative;">
            <h1>対策</h1>
            <p>class CsvLine</p>
            <img src="CsvLine.png" style="width: 45%; position: absolute; top: 0;right: 8%;" alt="">
        </section>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>csvの内部構造</h1>
        <section style="position: relative;">
            <h1>対策</h1>
            <p>class CsvLine</p>
            <p class="mark" style="visibility: hidden;">-> toRequest()</p>
            <p>-> class Request</p>
            <img src="Request.png" style="width: 60%; position: absolute; top: 0;right: 8%;" alt="">
        </section>
    </section>
    <section>
        <header><p>問題点と対策</p></header>
        <h1>csvの内部構造</h1>
        <section style="position: relative;">
            <h1>対策</h1>
            <p>class CsvLine</p>
            <p>-> <span class="mark">toRequest()</span></p>
            <p>-> class Request</p>
            <img src="ToEntityConverer.png" style="width: 60%; position: absolute; top: 0;right: 8%;" alt="">
        </section>
    </section>
    <section class="center">
        <h1>制作時に直面した課題</h1>
    </section>
    <section>
        <header><p>制作時に直面した課題</p></header>
        <h1>Architecture</h1>
        <p>ソフトウェアの構造、むずい。</p>
    </section>
    <section class="center">
        <header><p>制作時に直面した課題</p></header>
        <h1 class="top left">Architecture</h1>
        <div class="row" style="width:80%;height:80%;">
            <svg><use xlink:href="#inputPackage"/></svg>
            <svg><use xlink:href="#entityPackage"/></svg>
            <svg><use xlink:href="#gatewayPackage"/></svg>
        </div>
        <p>※機能の区分けの図</p>
        <p class="bottom" style="font-size: 45%;">Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon"> www.flaticon.com</a></p>
    </section>
    <section class="center">
        <header><p>制作時に直面した課題</p><p>Architecture</p></header>
        <h1 class="top left has_icon">
            <svg class="box" style="--size: 2.5em;"><use xlink:href="#inputPackage"/></svg>
            <span>input.fromCsv</span>
        </h1>
        <ul>
            <li>CsvReader.cs</li>
            <li style="list-style-type: square;">CsvLine.cs</li>
            <li style="list-style-type: square;">ToEntityConverter.cs</li>
        </ul>
    </section>
    <section class="center">
        <header><p>制作時に直面した課題</p><p>Architecture</p></header>
        <h1 class="top left has_icon">
            <svg class="box" style="--size: 2.5em;"><use xlink:href="#entityPackage"/></svg>
            <span>entity</span>
        </h1>
        <ul>
            <li style="list-style-type: square;">Request.cs</li>
            <li>RequestDivision.cs</li>
            <li>WorkTimeDivision.cs</li>
        </ul>
    </section>
    <section class="center">
        <header><p>制作時に直面した課題</p><p>Architecture</p></header>
        <h1 class="top left has_icon">
            <svg class="box" style="--size: 2.5em;"><use xlink:href="#gatewayPackage"/></svg>
            <span>gateway</span>
        </h1>
        <ul style="list-style-type: square;">
            <li>FromEntityConverter.cs</li>
            <li>Gateway.cs</li>
            <li>Plan.cs</li>
        </ul>
    </section>
    <section>
        <header><p>制作時に直面した課題</p></header>
        <h1>作った諸々</h1>
        <ul>
            <li>SQLBuilder</li>
            <li>Option型</li>
            <li>Either型</li>
            <li>Extensions</li>
            <li>このスライド</li>
        </ul>
    </section>
    <section class="center">
        <h1>おわり</h1>
    </section>
</section>
<script>
    const keyAllowLeft  = 37;
    const keyAllowRight = 39;
    const slideshow = document.getElementsByClassName("slideshow")[0];
    let   pageIndex = 0;
    const pages
        = Array.from(
            Array.from(slideshow.children)
                .filter((element)=> element.tagName == "SECTION")
        );
    const flipInputs
        = pages.map((page, index)=> {
            const input = document.createElement("input");
            input.type  = "radio";
            input.name  = "flip";
            input.value = index;
            input.onchange = function(){ if(input.checked) updateUrlParameter(index) }
            return input;
        });

    window.onload = function(){
        Array.from(flipInputs).reverse().forEach((flip, index)=> {
            slideshow.insertAdjacentElement("afterbegin", flip);
        });
        console.log(flipInputs.length)
        slideshow.style.setProperty("--max_page", "\""+ flipInputs.length +"\""); 
        
        const params = (new URL(document.location)).searchParams;
        const gottenPage = Number(params.get("page"));
        if(gottenPage) applyPageIndex(gottenPage);
        else           applyPageIndex(0);

        document.onkeydown = function(event){
            switch(event.keyCode){
                case keyAllowLeft : slideshowDecrement(); break;
                case keyAllowRight: slideshowIncrement(); break;
            }
        };
    }

    function slideshowIncrement(){ applyPageIndex(pageIndex +1); }
    function slideshowDecrement(){ applyPageIndex(pageIndex -1); }
    function applyPageIndex(num){
        const targetFlip = flipInputs[num];
        if(!targetFlip) return;
        flipInputs.filter(page=> page.checked == true).checked = false;
        targetFlip.checked = true;
        updateUrlParameter(num)
    }
    function updateUrlParameter(index){
        pageIndex = index;
        const url = new URL(document.location);
        url.searchParams.set("page", index);
        history.replaceState('','',url.href);
    }
</script>
</body>
</html>